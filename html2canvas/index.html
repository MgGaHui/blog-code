<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0,viewport-fit=cover">
    <title>html2canvas</title>
    <script src="../node_modules/html2canvas/dist/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <button class="capture" onclick="capture()">截图</button>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <image width="100" height="100" preserveaspectratio="none meet" xlink:href="./image/test.png"></image>
            <circle r="20" cx="100" cy="100" stroke="black" fill="red"></circle>
        </svg>
    </div>
    
</body>
<script>
    function canvasToImg(canvas) {
        var a_link = document.createElement("a");
        a_link.href = canvas.toDataURL("image/png");
        a_link.download = new Date().getTime() + ".png";
        a_link.click();
    }

    function capture() {
        html2canvas(document.body, {
            allowTaint: true,
            useCORS: true,
        }).then(canvas => {
            canvasToImg(canvas)
        });
    }
    
    // function compareTime() {
    //     // 开始时间
    //     var startTime = '2016-01-01 12:12:12';
    //     // 结束时间
    //     var endTime = '2020-10-28 22:31:59';
    //     var start = new Date(startTime).getTime();
    //     var end = new Date(endTime).getTime();
    //     // 当前时间
    //     var now_time = new Date().getTime()
    //     // 可预约？
    //     return now_time < start || now_time > end
    // }

    // console.log(compareTime())
</script>

</html>